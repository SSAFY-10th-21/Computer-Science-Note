# 네트워크

[[10분 테코톡] 🔮 히히의 OSI 7 Layer](https://www.youtube.com/watch?v=1pfTxp25MA8)

- 1900년대 중반에 네트워크가 시작됨
    - 이전까지는 컴퓨터 사이에서 데이터를 주고 받을 수 있는 수단이 X
    - 네트워크를 통해 서로 다른 컴퓨터 사이에 정보를 주고 받을 수 있게 됨
- 자연스레 프로토콜의 발전
    - 여러 회사에서 독자적인 프로토콜을 개발하면서 서로 경쟁 > 통일된 규정이 없어 문제가 발생
- 표준의 탄생
    - 국제 표준 기구에서 표준 네트워크 프로토콜 OSI를 발표함
- 즉, OSI는 서로 다른 컴퓨터들이 데이터를 주고 받을 수 있도록 표준화된 규칙이다.
    - ISO가 통신의 접속에서부터 완료까지의 과정을 7단계로 구분, 정의함

# OSI 7계층

<img width="679" alt="%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7_2023-10-06_%EC%98%A4%EC%A0%84_1 01 23" src="https://github.com/SSAFY-10th-21/Computer-Science-Note/assets/69153087/bf500ed6-e086-4045-a733-b42ba5746604">

- 데이터 전송 시 7계층에서 1계층으로 각각의 층마다 인식할 수 있어야 하는 헤더를 붙임(캡슐화)
- 데이터 수신 시 1계층에서 7계층으로 헤더를 떼어냄(역캡슐화)

### 응용 계층

<img width="615" alt="%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7_2023-10-06_%EC%98%A4%EC%A0%84_12 01 12" src="https://github.com/SSAFY-10th-21/Computer-Science-Note/assets/69153087/8d70b30b-e0ae-4fdc-85f9-0bb2ba0eb4f2">

- 사용자와 가장 밀접한 계층으로 인터페이스 역할
- 사용자로부터 정보를 입력받아 하위 계층으로 전달하고 하위 계층에서 전송한 데이터를 사용자에게 전달
- 파일 전송, DB, 메일 전송 등 여러 가지 응용 서비스를 네트워크에 연결해주는 역할
- 대표적인 프로토콜 : HTTP, DNS, Telnet, FTP 등

### 표현 계층

<img width="615" alt="%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7_2023-10-06_%EC%98%A4%EC%A0%84_12 00 51" src="https://github.com/SSAFY-10th-21/Computer-Science-Note/assets/69153087/06098da3-1866-4f7d-ac18-8fa134b49310">

- 데이터 표현의 차이를 해결하기 위해 다른 형식으로 변환하거나 공통 형식을 제공하는 계층이다.
- 송신 측에서는 수신 측에 맞는 형태로 변환(아스키코드 -> EBDCDIC)하고, 수신 측에서는 응용 계층에 맞는 형태로 변환한다.
- 그래픽은 JPEG, 동영상은 MPEG 형식으로 변환하여 송수신하는 기능과 데이터 압축 및 암호화 기능을 제공한다.

### 세션 계층

<img width="615" alt="%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7_2023-10-06_%EC%98%A4%EC%A0%84_12 00 30" src="https://github.com/SSAFY-10th-21/Computer-Science-Note/assets/69153087/1abc39d4-5793-4427-9919-acf4fc21b578">

- 세션이란 클라이언트와 웹 서버 간 네트워크 연결이 유지되고 있는 상태이며 사용자가 브라우저를 열어서 서버에 접속한 뒤 접속을 종료하는 시점까지를 의미
- 네트워크 상 양쪽 연결을 관리하고 지속시켜주는 계층
- 세션의 생성, 유지, 종료, 복구 등 수행

### 전송 계층

<img width="615" alt="%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7_2023-10-06_%EC%98%A4%EC%A0%84_12 00 07" src="https://github.com/SSAFY-10th-21/Computer-Science-Note/assets/69153087/2461cd56-5619-473d-905e-b8c1f1a4c708">

- 데이터를 신뢰성 있게 전송하기 위한 계층으로 상위 계층들이 데이터 전달의 유효성이나 효율성을 생각하지 않도록 해준다.
    - 오류 검출 및 복구, 흐름 제어와 중복 검사 등을 수행
- 헤더에 포트번호가 포함되어 있다.
    - 데이터가 원하는 프로세스에 도착을 해야하는데 호스트까지는 잘 도착했다고 하더라도 그 호스트에는 여러 개의 프로세스가 존재한다. 어떤 프로세스에 도착해야 하는지 정보가 필요하다. 그래서 결국, 프로세스를 구분하는 Process number 정보가 필요하고 이 number가 포트(Port) 번호이다.
- 프로토콜(Protocol) : TCP, UDP, ARP, RTP
    - **TCP**
        - 신뢰적이고 순차적인 전달 (에러 없이 전달)
        - 혼잡 제어
        - 흐름 제어
        - 연결 설정
    - **UDP**
        - 비신뢰적이고 비순차적 전달 (에러가 없는 것을 보장하지 않음)
        - 데이터를 목적지에 전송하는 것을 최우선으로 함
- 전송 단위는 Segment
    
    

### 네트워크 계층

<img width="615" alt="%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7_2023-10-05_%EC%98%A4%ED%9B%84_11 59 40" src="https://github.com/SSAFY-10th-21/Computer-Science-Note/assets/69153087/1c5a13e0-01d4-4c78-8b67-15da54ce22b9">

- 이 계층에서 가장 중요한 기능은 데이터를 목적지까지 가장 안전하고 빠르게 전달하는 기능(라우팅)이다.
- 라우터를 통해 이동할 경로를 선택하고 해당 경로에 따라 패킷을 전달해준다. (= 패킷을 네트워크 간의 IP를 통하여 데이터를 전달한다)
    - 데이터를 목적지 호스트까지 찾아가게 해야하는데 호스트까지 찾아가려면 라우팅(routing)을 해야하므로 목적지 주소가 필요하다. 네트워크 레이어에 해당하는 주소가 IP 이므로 IP 주소가 header에 추가한다.
- 라우팅, 흐름제어, 오류제어, 세그먼테이션 등을 수행한다.
- 장비 : 라우터
- 데이터 단위 : 패킷(Packet)

### 데이터 링크 계층

<img width="615" alt="%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7_2023-10-05_%EC%98%A4%ED%9B%84_11 58 12" src="https://github.com/SSAFY-10th-21/Computer-Science-Note/assets/69153087/179eeb8c-bed7-4f2a-91bf-c94fd67ae6a7">

- 물리계층으로 송/수신되는 정보를 확인하고 오류 없는 통신을 위해 여러 역할을 수행한다.
- 이 계층에서는 MAC 주소를 통해 통신한다. (헤더에 맥 주소 추가)
- 프레임에 MAC 주소를 부여하고 에러 검출, 재전송, 흐름 제어를 진행한다.
    - MAC 주소
        - 컴퓨터 간 데이터를 전송하기 위해 있는 컴퓨터의 물리적 주소, 하드웨어 주소
        - 그 기계의 고유번호, 그 하드웨어만 가지고 있는 식별변호 (= 주민번호)
        - IP는 변할 수 있지만 MAC은 변하지 않는다
        - MAC 주소는 데이터링크 계층에 사용되고, IP주소는 네트워크 계층에서 사용된다
- 장비 : 브릿지, 스위치
- 데이터 단위 : 프레임(Frame)

### 물리 계층

<img width="629" alt="%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7_2023-10-05_%EC%98%A4%ED%9B%84_11 56 24" src="https://github.com/SSAFY-10th-21/Computer-Science-Note/assets/69153087/b666c969-a4a9-4ff5-9a0e-d8bb09c67047">

- **데이터를 전기적인 신호로 변환해서 주고받는 기능을 진행하는 공간**
- 장비 : 통신 케이블, 리피터, 허브, 모뎀 등
- 데이터 단위 : 데이터는 0과 1의 비트열 즉 On, Off 전기적 신호 상태로 이루어진다.
- 데이터를 전달하기만 한다. 어떤 에러가 있는지 등에는 전혀 관여하지 않는다.

- **왜 OSI 7계층을 알아야 하는가?**
    - **데이터 전송 과정을 단계적으로 이해함으로써 네트워크 기반 서비스를 설계할 수 있다.**
    - **각 계층의 역할과 발생할 수 있는 문제를 이해함으로써 네트워크 문제를 빠르게 추적하고 해결할 수 있다.**
    

### **[ 공인 IP와 사설 IP 차이 ]**

- 공인 IP
    - 전세계에서 유일한 IP로 ISP(인터넷 서비스 공급자)가 제공하는 IP주소
    - 외부에 공개되어 있기 때문에 인터넷에 연결된 다른 장비로부터 접근이 가능하다.
    - 그에 따라 방화벽 등과 같은 보안 설정을 해주어야 한다.
- 사설 IP
    - 어떤 네트워크 안에서 사용되는 IP주소
    - IPV4의 부족으로 인해 모든 네트워크가 공인 IP를 사용하는 것이 불가능하기 때문에 네트워크 안에서 라우터를 통해 할당받는 가상의 주소이다.
    - 별도의 설정 없이는 외부에서 접근이 불가능하다.
    - 사설 IP(Private IP) 주소는 공유기가 노트북, 스마트 TV, 휴대폰 등 홈 네트워크에 연결된 장치에 할당한 내부 IP 주소를 의미합니다. 사설 IP 주소는 로컬 네트워크에서 할당되며 다른 네트워크의 IP 주소와 중복될 수 있습니다. 사설 IP 주소는 각자의 내부 네트워크에서 사용되기에 다른 네트워크의 IP 주소와 중복되더라도 문제가 없기 때문입니다. 대신 동일한 로컬 네트워크에 연결된 장치에는 같은 사설 IP 주소를 할당할 수 없습니다.

## 사설 IP와 공인 IP의 차이

|  | 공인 IP (Public IP) | 사설 IP (Private IP) |
| --- | --- | --- |
| 할당 주체 | ISP(인터넷 서비스 공급자) | 라우터(공유기) |
| 할당 대상 | 개인 또는 회사의 서버(라우터) | 개인 또는 회사의 기기 |
| 고유성 | 인터넷 상에서 유일한 주소 | 하나의 네트워크 안에서 유일 |
| 공개 여부 | 내/외부 접근 가능. | 외부 접근 불가능 |

### [ IPV6 등장 배경 ]

- IPv4의 32-bit 길이의 IP 주소 공간(약 43억 개)은 이미 고갈된 상태이므로 128-bit 길이의 IPv6가 등장 하였고 IPv6는 2^128개의 주소공간을 수용할 수 있으므로 주소 부족의 문제를 해결하였습니다.

### [ **ARP (Address Resolution Protocol)와 RARP를 비교하세요 ]**

|  | ARP | RARP |
| --- | --- | --- |
| 공통점 | 네트워크 계층에서 사용되는 주소 결정 프로토콜 | 네트워크 계층에서 사용되는 주소 결정 프로토콜 |
| 차이점 | IP 주소에서 MAC 주소를 알아냄 | MAC 주소에서 IP 주소를 알아냄 |